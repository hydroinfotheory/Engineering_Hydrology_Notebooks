

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Notebook 2: Rating Curve Development &#8212; Engineering Hydrology</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/Notebook_2/Notebook_2_SW';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Engineering Hydrology - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Engineering Hydrology - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Foreword
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Data_Import_and_Review.html">Example: Data Import, Review, and Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Example_Notebook.html">Example: Clausius-Clapeyron Equation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Flow Measurement</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Notebook_1/Notebook_1.html">Notebook 1: Flow Measurement using the Salt Dilution Method</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Rating Curve Development</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Notebook_2.html">Notebook 2: Rating Curve Development</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Regional Information Transfer</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Notebook_3/Notebook_3.html">Notebook 3: Regional Information Transfer</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Hydrological Modelling</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Notebook_4/Notebook_4.html">Notebook 4: Rational Method, Unit Hydrograph, Lumped &amp; Distributed Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Notebook_RR_Model/RR_Model.html">Conceptual Rainfall-Runoff Model</a></li>


</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Extreme Values, Uncertainty, and Risk</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Notebook_5/Notebook_5.html">Notebook 5: Extreme Values, Uncertainty, and Risk</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/hydroinfotheory/Engineering_Hydrology_Notebooks" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/hydroinfotheory/Engineering_Hydrology_Notebooks/issues/new?title=Issue%20on%20page%20%2Fnotebooks/Notebook_2/Notebook_2_SW.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/notebooks/Notebook_2/Notebook_2_SW.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Notebook 2: Rating Curve Development</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pressure-transducer">Pressure Transducer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hydrometric-station">Hydrometric Station</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-discharge-rating-curve-development">Stage-Discharge (Rating Curve) Development</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-data">Import the Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-data">Plot the Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-measured-discharge-and-corresponding-stage-water-level">Plot Measured Discharge and corresponding stage (water level)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#add-the-new-discharge-measurement">Add the new discharge measurement</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#find-the-stage-on-the-measurement-date">Find the stage on the measurement date</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#add-the-latest-data-to-the-discharge-table">Add the latest data to the discharge table.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-a-curve-representing-the-standard-stage-discharge-relationship">Plot a Curve Representing the Standard Stage-Discharge Relationship</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#curve-fitting-method">Curve Fitting Method</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solve-for-q">Solve for Q</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-best-fit-curve">Plot the best fit curve</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-daily-average-hydrograph-from-the-rating-curve">Plot the Daily Average Hydrograph From the Rating Curve</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-resulting-flow-series-and-the-rating-curve">Plot the Resulting Flow series and the rating curve</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulative-frequency-the-flow-duration-curve">Cumulative Frequency: The Flow Duration Curve</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-and-reflection">Summary and Reflection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#questions-for-reflection">Questions for Reflection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-information">Additional Information</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="notebook-2-rating-curve-development">
<h1>Notebook 2: Rating Curve Development<a class="headerlink" href="#notebook-2-rating-curve-development" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span> <span class="k">as</span> <span class="n">st</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># new code to detect whether running in google colab, and correctly setting working directory if so</span>

<span class="c1">#from os import path (not needed because os already loaded in cell above)</span>

<span class="c1"># mount google drive</span>

<span class="c1"># try command that only works when in google colab</span>
<span class="k">try</span><span class="p">:</span>

  <span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
  <span class="n">in_colab</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># if it fails, we are not running from google colab</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">in_colab</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Not in Colab&#39;</span><span class="p">)</span>

<span class="c1"># if we are in colab, mount the google drive and set working directory location to the standard download location</span>
<span class="k">if</span> <span class="n">in_colab</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;/content/google_drive&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Drive already mounted&#39;</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/google_drive&#39;</span><span class="p">)</span>

    <span class="c1"># move working directory to file location</span>
    <span class="c1">#default should work, but change if using a different location</span>
    <span class="o">%</span><span class="k">cd</span> &#39;google_drive/MyDrive/Engineering_Hydrology_Notebooks/content/notebooks/Notebook_2&#39;
    <span class="c1"># Needs to be manually set for each notebook</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Not in Colab
</pre></div>
</div>
</div>
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<section id="pressure-transducer">
<h3>Pressure Transducer<a class="headerlink" href="#pressure-transducer" title="Permalink to this heading">#</a></h3>
<p>It isn’t practical to accurately measure surface runoff directly on a <em>continuous</em> basis.  In practice, it is much easier and more reliable to install an instrument at a fixed location in the river to measure water pressure, which recall is a linear function of the depth of water, to collect these measurements at a frequency of minutes or hours, and then to establish a mathematical relation between water depth and volumetric flow.</p>
<p><img alt="Pressure Transducer" src="../../_images/transducer.png" /></p>
</section>
<section id="hydrometric-station">
<h3>Hydrometric Station<a class="headerlink" href="#hydrometric-station" title="Permalink to this heading">#</a></h3>
<p>A hydrometric station is often simply a pressure transducer (shown above) connected to a computer (a datalogger) to store measurements in memory.  We then need a way to map these recorded water level measurements to <strong>volumetric flow</strong> (<span class="math notranslate nohighlight">\(\frac{m^3}{s}\)</span>).  The pressure transducer is often fastened within a protective pipe (as shown in the image below) to protect it from debris moving during high flows.</p>
<p>Benchmarks are used to validate both the position of the pressure transducer and the calibration of the sensor.  <strong>Benchmark survey is critical to the validation of your measured flow series!</strong></p>
<blockquote>
<div><p><strong>Note</strong>: Water level or depth is often referred to as ‘stage’.</p>
</div></blockquote>
<p><img alt="Hydrometric Station" src="../../_images/station.png" /></p>
<p>In Notebook 1, we processed a single discharge measurement taken using the salt dilution method.  Typically we want to collect discharge measurements to describe as much of the expected range of natural flow conditions as possible, from very low flows in the dry season, to the highest flows we can (safely) measure.</p>
<p>Go through this notebook and follow along with the development of the stage-discharge rating curve. At the end, there is an open ended question that requires you to reflect on the content of the notebook.</p>
<blockquote>
<div><p><strong>Note</strong>: <a class="reference external" href="https://github.com/dankovacek/Engineering_Hydrology_Notebooks/tree/main/content/notebooks/Notebook_2/References">A folder of references is provided in the repository</a> containing governing standards for hydrometric data collection, as well as a discussion paper on uncertainty in hydrometric data collection.</p>
</div></blockquote>
</section>
</section>
<section id="stage-discharge-rating-curve-development">
<h2>Stage-Discharge (Rating Curve) Development<a class="headerlink" href="#stage-discharge-rating-curve-development" title="Permalink to this heading">#</a></h2>
<p>The purpose of establishing continuous collection of stage data, and collecting many discharge (flow) measurements is to establish (and validate) a relationship between the water level and the volumetric flow over a wide range of conditions:</p>
<p><img alt="Stage-Discharge Relationship (source: Hamilton &amp; Moore (2012))" src="../../_images/rating_curve_ex.png" /></p>
<p>Each point in the above plot represents an ‘instantaneous’ or ‘point in time’ discharge measurement, and the water level (stage) at the time the discharge measurement was taken.</p>
<p>In this exercise, we will develop a stage-discharge relationship from a collection of discharge measurements and the corresponding stage record. Once a valid stage-discharge relationship has been established, it can be used to translate the time series of <strong>stage</strong> to a time series of <strong>discharge</strong>.</p>
</section>
<section id="import-the-data">
<h2>Import the Data<a class="headerlink" href="#import-the-data" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;../../project_data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Metadata_B.txt&#39;,
 &#39;measured_EC_data_A.csv&#39;,
 &#39;regional_streamflow&#39;,
 &#39;measured_EC_data_B.csv&#39;,
 &#39;measurement_calibration_C.csv&#39;,
 &#39;Metadata_A.txt&#39;,
 &#39;Crypto_Creek_H_data.csv&#39;,
 &#39;Metadata_C.txt&#39;,
 &#39;measured_EC_data_C.csv&#39;,
 &#39;measurement_calibration_A.csv&#39;,
 &#39;measurement_calibration_B.csv&#39;,
 &#39;Project_QH_table_2024.csv&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the stage data</span>
<span class="n">stage_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../../project_data/Crypto_Creek_H_data.csv&#39;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># take a quick look at the file contents</span>
<span class="n">stage_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>PARAM</th>
      <th>Date</th>
      <th>year</th>
      <th>month</th>
      <th>day</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2010-08-25</td>
      <td>2010</td>
      <td>8</td>
      <td>25</td>
      <td>0.749</td>
    </tr>
    <tr>
      <th>1</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2010-08-26</td>
      <td>2010</td>
      <td>8</td>
      <td>26</td>
      <td>0.794</td>
    </tr>
    <tr>
      <th>2</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2010-08-27</td>
      <td>2010</td>
      <td>8</td>
      <td>27</td>
      <td>1.07</td>
    </tr>
    <tr>
      <th>3</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2010-08-28</td>
      <td>2010</td>
      <td>8</td>
      <td>28</td>
      <td>0.786</td>
    </tr>
    <tr>
      <th>4</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2010-08-29</td>
      <td>2010</td>
      <td>8</td>
      <td>29</td>
      <td>0.635</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>672</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2012-06-27</td>
      <td>2012</td>
      <td>6</td>
      <td>27</td>
      <td>1.87</td>
    </tr>
    <tr>
      <th>673</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2012-06-28</td>
      <td>2012</td>
      <td>6</td>
      <td>28</td>
      <td>1.93</td>
    </tr>
    <tr>
      <th>674</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2012-06-29</td>
      <td>2012</td>
      <td>6</td>
      <td>29</td>
      <td>2.31</td>
    </tr>
    <tr>
      <th>675</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2012-06-30</td>
      <td>2012</td>
      <td>6</td>
      <td>30</td>
      <td>2.66</td>
    </tr>
    <tr>
      <th>676</th>
      <td>00XX000</td>
      <td>2</td>
      <td>2012-07-01</td>
      <td>2012</td>
      <td>7</td>
      <td>1</td>
      <td>2.99</td>
    </tr>
  </tbody>
</table>
<p>677 rows × 7 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># looking at the data preview above, the water level (stage) label is quite long</span>
<span class="c1"># lets store it in a more convenient variable</span>
<span class="n">stage_label</span> <span class="o">=</span> <span class="s1">&#39;Value&#39;</span>

<span class="n">stage_df</span> <span class="o">=</span> <span class="n">stage_df</span><span class="p">[[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">stage_label</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">stage_df</span><span class="p">[</span><span class="n">stage_label</span><span class="p">]</span><span class="o">=</span><span class="n">stage_df</span><span class="p">[</span><span class="n">stage_label</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="c1">#stage_df.set_index(&#39;Date&#39;, inplace=True)</span>
</pre></div>
</div>
</div>
</div>
<p>Open the rating curve data file (the set of discrete flow measurements).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the table of discrete discharge measurements</span>
<span class="n">rc_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../../notebook_data/notebook_2_data/RC_Data.csv&#39;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># take a look at the discharge measurements</span>
<span class="n">rc_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Flow (m3/s)</th>
      <th>Water level (m)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2009-01-02</td>
      <td>1.565</td>
      <td>0.236</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2009-01-07</td>
      <td>1.530</td>
      <td>0.267</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2009-03-20</td>
      <td>0.967</td>
      <td>0.224</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2009-09-12</td>
      <td>5.133</td>
      <td>0.707</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2009-11-10</td>
      <td>3.402</td>
      <td>0.468</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2009-11-18</td>
      <td>4.474</td>
      <td>0.589</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2010-03-24</td>
      <td>1.297</td>
      <td>0.296</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2010-03-25</td>
      <td>1.823</td>
      <td>0.300</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2010-08-25</td>
      <td>4.682</td>
      <td>0.632</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are a total of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">rc_df</span><span class="p">)</span><span class="si">}</span><span class="s1"> discharge measurements.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>There are a total of 9 discharge measurements.
</pre></div>
</div>
</div>
</div>
</section>
<section id="plot-the-data">
<h2>Plot the Data<a class="headerlink" href="#plot-the-data" title="Permalink to this heading">#</a></h2>
<section id="plot-measured-discharge-and-corresponding-stage-water-level">
<h3>Plot Measured Discharge and corresponding stage (water level)<a class="headerlink" href="#plot-measured-discharge-and-corresponding-stage-water-level" title="Permalink to this heading">#</a></h3>
<p>From previous site visits, we have collected a total of 9 discharge measurements as can be seen in the <code class="docutils literal notranslate"><span class="pre">rc_df</span></code> dataframe above.  During each measurement, we manually measure the water level to validate the data being recorded continuously by our pressure transducer and datalogger (hydrometric station).  We validate the pressure transducer reading because instrument calibration is not perfect, and can change over time for a number of reasons.</p>
<p>It is important to measure stage by some independent means before and after a discharge measurement in order to to assess the quality of the stage-discharge relationship and any analysis derived from it.  Validating the hydrometric station stage concurrent to a discharge measurement is typically done manually, such as by a benchmark survey.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the discharge measurements on the x-axis, and the corresponding stage on the y axis</span>
<span class="n">q_measured</span> <span class="o">=</span> <span class="s1">&#39;Flow (m3/s)&#39;</span>
<span class="n">wl_measured</span> <span class="o">=</span> <span class="s1">&#39;Water level (m)&#39;</span>
<span class="n">rc_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">q_measured</span><span class="p">,</span> <span class="n">wl_measured</span><span class="p">,</span> 
           <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span>
           <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Discharge measurements&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Flow (m3/s)&#39;&gt;
</pre></div>
</div>
<img alt="../../_images/f485b87e25efffa9b2a686ed1828da9d43525eda31d499386fa724e16f9f3490.png" src="../../_images/f485b87e25efffa9b2a686ed1828da9d43525eda31d499386fa724e16f9f3490.png" />
</div>
</div>
</section>
<section id="add-the-new-discharge-measurement">
<h3>Add the new discharge measurement<a class="headerlink" href="#add-the-new-discharge-measurement" title="Permalink to this heading">#</a></h3>
<p>In Notebook 1, we processed a discharge measurement using salt dilution.  Let’s update our rating curve with this latest data point.</p>
</section>
<section id="find-the-stage-on-the-measurement-date">
<h3>Find the stage on the measurement date<a class="headerlink" href="#find-the-stage-on-the-measurement-date" title="Permalink to this heading">#</a></h3>
<p>Instead of manually looking up what the water level was on a particular date, we can use an indexing method to directly return the value at the time of interest./</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the measurement_date from the salt dilution data files</span>
<span class="n">msmt_date</span> <span class="o">=</span> <span class="s1">&#39;2010-09-26&#39;</span>
<span class="c1"># conver the date from a string to a &quot;datetime&quot; type</span>
<span class="n">msmt_date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">msmt_date</span><span class="p">)</span>
 
<span class="c1"># here, we are indexing the stage dataframe to return </span>
<span class="c1"># just the row corresponding to the date we&#39;re interested in</span>
<span class="n">msmt_date_data</span> <span class="o">=</span> <span class="n">stage_df</span><span class="p">[</span><span class="n">stage_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">msmt_date</span><span class="p">]</span>

<span class="c1"># now just extract the stage</span>
<span class="c1"># and round to 3 decimals</span>
<span class="n">msmt_stage</span> <span class="o">=</span> <span class="n">msmt_date_data</span><span class="p">[</span><span class="n">stage_label</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Note that the msmt_stage variable is still a dataframe</span>
<span class="nb">print</span><span class="p">(</span><span class="n">msmt_stage</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># To get just the value, use the `.values` attribute </span>
<span class="c1"># which returns an array</span>
<span class="n">msmt_stage</span> <span class="o">=</span> <span class="n">msmt_stage</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The stage on </span><span class="si">{</span><span class="n">msmt_date</span><span class="si">}</span><span class="s1"> was </span><span class="si">{</span><span class="n">msmt_stage</span><span class="si">}</span><span class="s1"> m.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>32    2.76
Name: Value, dtype: float64
------

The stage on 2010-09-26 00:00:00 was 2.76 m.
</pre></div>
</div>
</div>
</div>
</section>
<section id="add-the-latest-data-to-the-discharge-table">
<h3>Add the latest data to the discharge table.<a class="headerlink" href="#add-the-latest-data-to-the-discharge-table" title="Permalink to this heading">#</a></h3>
<p>In Notebook 1, we calculated discharge using the salt dilution method.  Add this measurement to <code class="docutils literal notranslate"><span class="pre">rc_df</span></code> and see how it compares to the rest of the measurements.</p>
<blockquote>
<div><p><strong>Note</strong>: If you make a mistake in adding new discharge measurements, you should re-run the notebook from the cell where <code class="docutils literal notranslate"><span class="pre">rc_df</span></code> is first declared.  Otherwise the erroneous measurement will stay in your table!  Copy the line <code class="docutils literal notranslate"><span class="pre">rc_df.loc[len(rc_df)]</span> <span class="pre">=</span> <span class="pre">[pd.to_datetime(msmt_date),</span> <span class="pre">Q_calculated,</span> <span class="pre">msmt_stage]</span></code> and replace the <code class="docutils literal notranslate"><span class="pre">Q_calculated</span></code> and <code class="docutils literal notranslate"><span class="pre">msmt_stage</span></code> variables with random numbers a few times to convince yourself of the outcome.</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rc_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Flow (m3/s)</th>
      <th>Water level (m)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2009-01-02</td>
      <td>1.565</td>
      <td>0.236</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2009-01-07</td>
      <td>1.530</td>
      <td>0.267</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2009-03-20</td>
      <td>0.967</td>
      <td>0.224</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2009-09-12</td>
      <td>5.133</td>
      <td>0.707</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2009-11-10</td>
      <td>3.402</td>
      <td>0.468</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2009-11-18</td>
      <td>4.474</td>
      <td>0.589</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2010-03-24</td>
      <td>1.297</td>
      <td>0.296</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2010-03-25</td>
      <td>1.823</td>
      <td>0.300</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2010-08-25</td>
      <td>4.682</td>
      <td>0.632</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Q_calculated</span> <span class="o">=</span> <span class="mi">12</span> <span class="c1"># enter the value you calculated from Notebook 1</span>
<span class="n">concurrent_stage</span> <span class="o">=</span> <span class="n">msmt_stage</span> <span class="c1"># we determined msmst_stage in the previous cell</span>

<span class="c1"># Add the newly measured point to the rating curve (discharge data) dataframe</span>
<span class="n">next_idx</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rc_df</span><span class="p">)</span>
<span class="c1"># the .loc[] function is a way to index row(s) &amp; column(s) of a table.</span>
<span class="c1"># here we want to add a new complete row, so we use `:` to say &quot;all columns&quot;</span>
<span class="n">rc_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">rc_df</span><span class="p">),</span> <span class="p">:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">msmt_date</span><span class="p">,</span> <span class="n">Q_calculated</span><span class="p">,</span> <span class="n">msmt_stage</span><span class="p">]</span>

<span class="c1"># print out the updated dataframe and see the new point added</span>
<span class="n">rc_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Flow (m3/s)</th>
      <th>Water level (m)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2009-01-02</td>
      <td>1.565</td>
      <td>0.236</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2009-01-07</td>
      <td>1.530</td>
      <td>0.267</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2009-03-20</td>
      <td>0.967</td>
      <td>0.224</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2009-09-12</td>
      <td>5.133</td>
      <td>0.707</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2009-11-10</td>
      <td>3.402</td>
      <td>0.468</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2009-11-18</td>
      <td>4.474</td>
      <td>0.589</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2010-03-24</td>
      <td>1.297</td>
      <td>0.296</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2010-03-25</td>
      <td>1.823</td>
      <td>0.300</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2010-08-25</td>
      <td>4.682</td>
      <td>0.632</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2010-09-26</td>
      <td>12.000</td>
      <td>2.760</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="plot-a-curve-representing-the-standard-stage-discharge-relationship">
<h3>Plot a Curve Representing the Standard Stage-Discharge Relationship<a class="headerlink" href="#plot-a-curve-representing-the-standard-stage-discharge-relationship" title="Permalink to this heading">#</a></h3>
<p>The standard stage-discharge relationship takes the form <span class="math notranslate nohighlight">\(Q = C(h-h_0)^b\)</span> where:</p>
<ul class="simple">
<li><p>Q = flow <span class="math notranslate nohighlight">\([\frac {m^3}{s}]\)</span></p></li>
<li><p>C = rating coefficient <span class="math notranslate nohighlight">\([-]\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(h_0\)</span> = elevation offset <span class="math notranslate nohighlight">\([m]\)</span> corresponding to the point of zero flow</p></li>
<li><p>b = hydraulic control shape coefficient <span class="math notranslate nohighlight">\([-]\)</span></p></li>
</ul>
<p>The rating exponent (b) is related to some extent to the cross sectional shape of the hydraulic control.  Values for the rating exponent suggested by Environment Canada (2012) are as follows:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Shape</p></th>
<th class="head"><p>Value of exponent (b)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Rectangular</p></td>
<td><p>1.3 to 1.8</p></td>
</tr>
<tr class="row-odd"><td><p>Parabolic</p></td>
<td><p>1.7 to 2.3</p></td>
</tr>
<tr class="row-even"><td><p>Triangular</p></td>
<td><p>2.5 to 3</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># definition of rating curve: calculate Q from h, given the parameters.</span>
<span class="k">def</span> <span class="nf">calc_q</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">h0</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Standard form of the rating curve equation.</span>
<span class="sd">        Q = flow [m^3/s]</span>
<span class="sd">        C = rating coefficient [-]</span>
<span class="sd">        h0 = elevation offset [m] - corresponds to point of zero flow</span>
<span class="sd">        b = hydraulic control shape coefficient [-]</span>
<span class="sd">    Return volumetric flow [m^3/s]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">C</span><span class="o">*</span><span class="p">(</span><span class="n">h</span><span class="o">-</span><span class="n">h0</span><span class="p">)</span><span class="o">**</span><span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<p>Below are rating curve parameters (<code class="docutils literal notranslate"><span class="pre">h0</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">C</span></code>) that are <strong>a simple visual fit</strong> to the discharge data.</p>
<p>Try changing the values of <code class="docutils literal notranslate"><span class="pre">h0</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, and <code class="docutils literal notranslate"><span class="pre">C</span></code> to see the effect on how the curve fits the measured discharge data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">h0</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.1</span>   <span class="c1"># offset parameter</span>
<span class="n">b</span> <span class="o">=</span> <span class="mf">1.8</span>      <span class="c1"># exponent (shape) parameter</span>
<span class="n">C</span> <span class="o">=</span> <span class="mf">8.0</span>      <span class="c1"># coefficient parameter</span>

<span class="c1"># here, set a range of stage values over which</span>
<span class="c1"># we will calculate discharge based on our rating curve parameters</span>
<span class="n">stage_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># here we calculate flow (q) for every value of stage</span>
<span class="c1"># we defined in stage_range above</span>
<span class="n">manual_fit_q</span> <span class="o">=</span> <span class="p">[</span><span class="n">calc_q</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">h0</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">stage_range</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">manual_fit_q</span><span class="p">,</span> <span class="n">stage_range</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Manual Fit RC&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rc_df</span><span class="p">[</span><span class="n">q_measured</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">rc_df</span><span class="p">[</span><span class="n">wl_measured</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> 
           <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span>
           <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Discharge measurements&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Stage - Discharge Rating Curve&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Discharge [m^3/s]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Stage [m]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/157c24b4390304dc6a0c02355dec5e9102469b064e95d54319f443ee3e4e2b88.png" src="../../_images/157c24b4390304dc6a0c02355dec5e9102469b064e95d54319f443ee3e4e2b88.png" />
</div>
</div>
</section>
</section>
<section id="curve-fitting-method">
<h2>Curve Fitting Method<a class="headerlink" href="#curve-fitting-method" title="Permalink to this heading">#</a></h2>
<p>Above, we plotted the stage-discharge curve using made up parameters for C, h0, and b.  We can use a “guess-and-check” method to change the parameters until they have a ‘good’ visual fit, but let’s be more efficient and systematic and use a “best fit” method.</p>
<p>Because our equation is not linear (normally <span class="math notranslate nohighlight">\(b \neq 1\)</span>), we can’t use the linear best fit function shown in Tutorial 1.  Or can we?</p>
<p>Recall the rating curve equation from above is: <span class="math notranslate nohighlight">\(Q = C(H-h_0)^b\)</span>.</p>
<p>If we transform the data to log space, we get the following: <span class="math notranslate nohighlight">\(log(Q) = log(C) + b\cdot log(h-h_0)\)</span></p>
<p>We can then rearrange the terms to match the linear form: <span class="math notranslate nohighlight">\(y = slope \cdot x + intercept\)</span>.</p>
<p>Recall the x and y axis parameters are discharge (Q) and water level (h), respectively, so the linear form of the equation is then:</p>
<div class="math notranslate nohighlight">
\[log(h-h_0) = slope \cdot log(Q) + intercept\]</div>
<p>Using this linear form of the equation, we can use the ordinary least squares (OLS) method to find the slope and intercept corresponding to the best fit line (in log-log space).  The last step is to transform the values back to linear space.</p>
<p>Note that <span class="math notranslate nohighlight">\(h_0\)</span> cannot be fitted this way, and has to be set manually. In this case we start by assuming <span class="math notranslate nohighlight">\(h_0=0\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find the best-fit line in log-log space</span>
<span class="c1"># set our stage offset to zero</span>
<span class="n">h0</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># take the logarithm of the measured streamflows and the stage</span>
<span class="n">q_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">rc_df</span><span class="p">[</span><span class="s1">&#39;Flow (m3/s)&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">h0</span><span class="p">)</span>
<span class="n">stage_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">rc_df</span><span class="p">[</span><span class="s1">&#39;Water level (m)&#39;</span><span class="p">])</span>

<span class="c1"># find the slope and intercept parameters describing the linear best fit using ordinary least squares (OLS)</span>
<span class="n">log_slope</span><span class="p">,</span> <span class="n">log_intercept</span><span class="p">,</span> <span class="n">log_rval</span><span class="p">,</span> <span class="n">log_pval</span><span class="p">,</span> <span class="n">log_stderr</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">linregress</span><span class="p">(</span><span class="n">q_log</span><span class="p">,</span> <span class="n">stage_log</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The linearized form of the best fit equation was shown in the last step: <span class="math notranslate nohighlight">\(log(h-h_0) = slope \cdot log(Q) + intercept\)</span>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">st.linregress</span></code> function solved the ordinary least squares best fit and yielded the <code class="docutils literal notranslate"><span class="pre">slope</span></code> and <code class="docutils literal notranslate"><span class="pre">intercept</span></code> of the best fit line, so we have two unknowns.  When we plotted the general stage-discharge curve above, we set a variable <code class="docutils literal notranslate"><span class="pre">stage_range</span></code> to evaluate the range of water level over which we’re interested in knowing the corresponding flow.  The remaining unknown is then the <code class="docutils literal notranslate"><span class="pre">log(Q)</span></code> term, but we want a function that will give us the discharge (<code class="docutils literal notranslate"><span class="pre">Q</span></code>) in linear space.</p>
<section id="solve-for-q">
<h3>Solve for Q<a class="headerlink" href="#solve-for-q" title="Permalink to this heading">#</a></h3>
<p>The last step is to rearrange the log form of the equation we derived previously (<span class="math notranslate nohighlight">\(log(h-h_0) = slope \cdot log(Q) + intercept\)</span>) in order to solve for flow (<code class="docutils literal notranslate"><span class="pre">Q</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># calculate the discharge based on the best fit</span>
<span class="c1"># parameters found by ordinary least squares above</span>
<span class="k">def</span> <span class="nf">ols_rc_q</span><span class="p">(</span><span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">h0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate flow (Q) from the linear best fit parameters.</span>
<span class="sd">        -slope: the `log_slope` calculated above (constant)</span>
<span class="sd">        -intercept: `log_intercept` calculated above (constant)</span>
<span class="sd">        -h0 is the same PZF offset used above (constant)</span>
<span class="sd">        -h is the independent variable</span>
<span class="sd">    Returns Q, the discharge in m^3/s.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">slope</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">h</span> <span class="o">-</span> <span class="n">h0</span><span class="p">)</span> <span class="o">-</span> <span class="n">intercept</span><span class="p">)</span> <span class="o">/</span> <span class="n">slope</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span> 
        <span class="k">return</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># put best fit results into a dataframe for plotting</span>
<span class="c1"># use 0 as the PZF (point of zero flow) (the h0 parameter)</span>
<span class="n">bf_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;stage&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stage_range</span>

<span class="c1"># now as before, apply the `ols_rc_q` function to create the stage-discharge</span>
<span class="c1"># curve based on the best-fit equation</span>
<span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;best_fit_q&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">ols_rc_q</span><span class="p">(</span><span class="n">log_slope</span><span class="p">,</span> <span class="n">log_intercept</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">stage_range</span><span class="p">]</span>
<span class="n">bf_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;stage&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># now add the manual fit we developed above -- this way we can compare the two curves side-by-side</span>
<span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;manual_fit_q&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">manual_fit_q</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="plot-the-best-fit-curve">
<h3>Plot the best fit curve<a class="headerlink" href="#plot-the-best-fit-curve" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">manual_fit_q</span><span class="p">,</span> <span class="n">stage_range</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Manual Fit RC&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;best_fit_q&#39;</span><span class="p">],</span> <span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;stage&#39;</span><span class="p">],</span>
        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;OLS Best Fit&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rc_df</span><span class="p">[</span><span class="n">q_measured</span><span class="p">],</span> <span class="n">rc_df</span><span class="p">[</span><span class="n">wl_measured</span><span class="p">],</span> 
           <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
           <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Discharge measurements&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Stage - Discharge Rating Curve&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Discharge [m^3/s]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Stage [m]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/6e6f0a248db25185365237824b2a22b91d2ed686015b67d50f55e2f48cf9b16d.png" src="../../_images/6e6f0a248db25185365237824b2a22b91d2ed686015b67d50f55e2f48cf9b16d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># if you want to export this data to continue working in excel (or another program)</span>
<span class="c1"># You can call a function to write a dataframe directly to csv using the command below.</span>
<span class="c1"># The string is the filename, and you can additionally add path information</span>
<span class="c1"># just remove the &#39;#&#39; symbol at the start of the line below and execute this cell by pressing shift + enter, or by hitting the &#39;play&#39; button at the top</span>
<span class="c1"># bf_df.to_csv(&#39;rating_curve_data.csv&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="plot-the-daily-average-hydrograph-from-the-rating-curve">
<h3>Plot the Daily Average Hydrograph From the Rating Curve<a class="headerlink" href="#plot-the-daily-average-hydrograph-from-the-rating-curve" title="Permalink to this heading">#</a></h3>
<p>Now that we’ve established the relationship between stage and discharge, we can transform the continuous stage record into a continuous flow record.</p>
<p>Apply the rating curve equation we developed above to the long-term water level (stage) time series from our hydrometric station.  Add the result as a new column in the <code class="docutils literal notranslate"><span class="pre">stage_df</span></code> dataframe.  Note the distinction between the stage measured during the discrete measurements, and the “continuous” stage (water level) recorded by our pressure transducer.  It is the pressure-transducer series we want to apply the rating curve equation to, not the water level from the discharge measurements!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># calculate a dicharge based on the best fit or manually fit rating curve</span>
<span class="c1"># for each water level recorded in the measured stage record (stage_df)</span>

<span class="n">stage_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;RC Q (cms)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stage_df</span><span class="p">[</span><span class="n">stage_label</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">h</span><span class="p">:</span> <span class="n">ols_rc_q</span><span class="p">(</span><span class="n">log_slope</span><span class="p">,</span> <span class="n">log_intercept</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># add in the parameters we set manually</span>
<span class="n">stage_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;Manual Q (cms)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stage_df</span><span class="p">[</span><span class="n">stage_label</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">h</span><span class="p">:</span> <span class="n">calc_q</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">h0</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># again, if you want to export this dataframe to csv for use in Excel</span>
<span class="c1"># or other program, use the command below</span>
<span class="c1"># stage_df.to_csv(&#39;derived_flow_series.csv&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="plot-the-resulting-flow-series-and-the-rating-curve">
<h3>Plot the Resulting Flow series and the rating curve<a class="headerlink" href="#plot-the-resulting-flow-series-and-the-rating-curve" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># here we specify 1, 2 for subplots meaning 1 row and 2 columns</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># left side plot - rating curve</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">manual_fit_q</span><span class="p">,</span> <span class="n">stage_range</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Manual Fit RC&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;best_fit_q&#39;</span><span class="p">],</span> <span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;stage&#39;</span><span class="p">],</span>
        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;OLS Best Fit&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rc_df</span><span class="p">[</span><span class="n">q_measured</span><span class="p">],</span> <span class="n">rc_df</span><span class="p">[</span><span class="n">wl_measured</span><span class="p">],</span> 
           <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
           <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Discharge measurements&#39;</span><span class="p">)</span>

<span class="c1"># right side plot -- hydrograph</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">stage_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">],</span> <span class="n">stage_df</span><span class="p">[</span><span class="s1">&#39;Manual Q (cms)&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Manual Fit RC&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">stage_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">],</span> <span class="n">stage_df</span><span class="p">[</span><span class="s1">&#39;RC Q (cms)&#39;</span><span class="p">],</span>
        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;OLS Best Fit&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rc_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">],</span> <span class="n">rc_df</span><span class="p">[</span><span class="n">q_measured</span><span class="p">],</span> 
           <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
           <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Discharge measurements&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Stage - Discharge Rating Curve&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Discharge [m^3/s]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Stage [m]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="c1"># right side plot labels</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Measured Discharge Hydrograph&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Discharge [m^3/s]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/21e1e72df47be07ccee1d40e8074e0c77aacd1950f92de5b1a2a211a66046c5f.png" src="../../_images/21e1e72df47be07ccee1d40e8074e0c77aacd1950f92de5b1a2a211a66046c5f.png" />
</div>
</div>
</section>
</section>
<section id="cumulative-frequency-the-flow-duration-curve">
<h2>Cumulative Frequency: The Flow Duration Curve<a class="headerlink" href="#cumulative-frequency-the-flow-duration-curve" title="Permalink to this heading">#</a></h2>
<p>In order to illustrate the variability of flow in a river, it is common to map flow magnitude to cumulative frequency, or the proportion of time the flow in the river equals or exceeds some amount. A flow duration curve presents flow magnitude from 0% to 100% exceedance, where values approaching zero are high flows that are very rarely exceeded. Conversely, values approaching 100% exceedance are low flows that are almost always exceeded. 50% exceedance represents the median flow Note that these values are based on the sample, and the flow duration curve is generally used to describe the overall distribution of flow and not for estimating extremes. A flow duration curve is also referred to as a flow exceedance curve.</p>
<p>Let’s plot a flow duration curve for the measured flow series we created above by applying the rating curve equation to the stage series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">pct_exceeded</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">flow_quantiles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">stage_df</span><span class="p">[</span><span class="s1">&#39;RC Q (cms)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">pct_exceeded</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pct_exceeded</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">flow_quantiles</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Flow Exceedance Curve&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Flow [m^3/s]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Percent of Time Exceeded [%]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;Percent of Time Exceeded [%]&#39;)
</pre></div>
</div>
<img alt="../../_images/fcef20ce9213303ec06b53e84b97810118000b11be464ade6eb9205da0b1b8a7.png" src="../../_images/fcef20ce9213303ec06b53e84b97810118000b11be464ade6eb9205da0b1b8a7.png" />
</div>
</div>
<p>The shape of the FDC gives some insight into the fluctuation of flows in the watershed. A steeper peak flow end suggests more dramatic ‘flashes’ of rainfall-runoff response. The shape of the low-flow tail describes base flows during low flow seasons. Below is a comparison of two basins of nearly identical size but in very different climates:</p>
<p><img alt="Flow Duration Curve comparison" src="../../_images/FDC_comparison.png" /></p>
<p>From the plot above, the Alberta basin looks to be a bit bit drier, but a dramatic difference in low-flows can be seen by looking closer at the low-flow range:</p>
<p><img alt="Flow Duration Curve comparison" src="../../_images/FDC_comparison_low_flow.png" /></p>
</section>
<section id="summary-and-reflection">
<h2>Summary and Reflection<a class="headerlink" href="#summary-and-reflection" title="Permalink to this heading">#</a></h2>
<p>In this notebook we have used discrete measurements to develop a relationship between water level and volumetric flow.  We’ve used this relationship to develop what is commonly called a ‘measured flow series’ (the plot above at right), but it’s really just an estimate of a relationship that changes in time due to natural (geomorphological) processes.  As we saw in Notebook 1, there is uncertainty in the flow measurements themselves, as well as the water level.  In this notebook we see how these uncertainties translate to the stage-discharge relationship.</p>
<p>It is typical that the hydrometric station will record a greater range of water level than what is captured during site visits when discrete discharge measurements are taken.  This is because the hydrometric station is installed and left running to measure water level ‘continuously’ (at some frequency, 15 minutes is fairly common) for years at a time.  In many cases it isn’t practical or cost effective to make more than three or four visits per year to the station to collect measurements, download stage data, check datalogger batteries, etc.  As a result, it is typical to have discrete discharge measurements over a narrower range of flow conditions than is measured by the hydrometric station, so our ‘measured flow series’ must then <em>extrapolate</em> from the range of conditions we have actually taken discrete measurements for.</p>
<p>The ‘measured flow series’ is used in many applications in resource engineering.  Low flows are used to determine natural or baseline conditions for fish habitat impact assessments, high flows are used to size hydraulic structures, such as dam spillways.  Hydrometric stations are often installed in new locations to support projects that have multi-decade planning horizons.</p>
<section id="questions-for-reflection">
<h3>Questions for Reflection<a class="headerlink" href="#questions-for-reflection" title="Permalink to this heading">#</a></h3>
<p>Ultimately, the rating curve translates measured water level into a discharge series to characterize a water resource and support decisions in policy and design.  In characterizing a water resource, not only is it common to extrapolate beyond the range of measured conditions, it is necessary to extrapolate into the future, introducing new and unique sources of uncertainty.</p>
<p>Briefly describe how your confidence in the flow predicted by the rating curve (the model) changes as a function of water level (low flow, median flow, high flow)?  Then describe your level of confidence in the rating curve accurately representing flow tomorrow, versus one year from now, versus ten years from now.  How might these concerns be addressed?</p>
<p>The two plots below are linked.  Check the selection tools, and select points on one plot.  When validating data, it is helpful to be able to link the measurements on the rating curve plot and the daily flow series plot.  Consider how you would you check if the low flows were subject to a shift in the hydraulic control over time?</p>
</section>
</section>
<section id="additional-information">
<h2>Additional Information<a class="headerlink" href="#additional-information" title="Permalink to this heading">#</a></h2>
<p>So far, we’ve created plots with the <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> plotting library.  There are many other plotting libraries to explore, such as <a class="reference external" href="https://seaborn.pydata.org/">Seaborn</a>, <a class="reference external" href="https://plotly.com/">Plotly</a>, <a class="reference external" href="https://docs.bokeh.org/en/latest/">Bokeh</a> and related <a class="reference external" href="https://holoviews.org/">Holoviews</a> and <a class="reference external" href="https://geoviews.org/">Geoviews</a> for spatial data.</p>
<p>Below we recreate the previous plot above and make it interactive.  Sometimes it is very powerful to zoom in on detailed data and have linked behaviour between plots.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_file</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">ColumnDataSource</span><span class="p">,</span> <span class="n">Band</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">output_notebook</span>
<span class="kn">from</span> <span class="nn">bokeh.layouts</span> <span class="kn">import</span> <span class="n">gridplot</span>

<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class="bk-root">
        <a href="https://bokeh.org" target="_blank" class="bk-logo bk-logo-small bk-logo-notebook"></a>
        <span id="1002">Loading BokehJS ...</span>
    </div>
</div><script type="application/javascript">(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null && id in Bokeh.index) {
      Bokeh.index[id].model.document.clear();
      delete Bokeh.index[id];
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim();
            if (id in Bokeh.index) {
              Bokeh.index[id].model.document.clear();
              delete Bokeh.index[id];
            }
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    const el = document.getElementById("1002");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-2.4.3.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
          for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById("1002")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># customize the tools for interacting with the plot</span>
<span class="n">TOOLS</span><span class="o">=</span><span class="s2">&quot;pan,wheel_zoom,reset,hover,poly_select,box_select&quot;</span>

<span class="n">stage_df</span> <span class="o">=</span> <span class="n">stage_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># the Bokeh plotting library uses a &quot;ColumnDataSource&quot; data structure to </span>
<span class="c1"># link plots and make them more interactive</span>
<span class="c1"># set data sources for plot linking</span>
<span class="n">rc_source</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">rc_df</span><span class="p">)</span>
<span class="n">ts_source</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">stage_df</span><span class="p">)</span>

<span class="c1">#### RATING CURVE PLOT (left side)</span>
<span class="n">rc_plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">plot_width</span><span class="o">=</span><span class="mi">550</span><span class="p">,</span> <span class="n">plot_height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Rating Curve Plot&#39;</span><span class="p">,</span>
                <span class="n">tools</span><span class="o">=</span><span class="n">TOOLS</span><span class="p">)</span>

<span class="c1"># plot the measured discharge points as circle glyphs</span>
<span class="n">rc_plot</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="s1">&#39;Flow (m3/s)&#39;</span><span class="p">,</span> <span class="s1">&#39;Water level (m)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
              <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;Measured Q&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">rc_source</span><span class="p">)</span>

<span class="c1"># plot the rating curve line based on the manual rating curve fit</span>
<span class="n">rc_plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">manual_fit_q</span><span class="p">,</span> <span class="n">stage_range</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">,</span>
             <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;Manual Fit&#39;</span><span class="p">)</span>

<span class="c1"># plot the rating curve line based on the OLS best fit</span>
<span class="n">rc_plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;best_fit_q&#39;</span><span class="p">],</span> <span class="n">bf_df</span><span class="p">[</span><span class="s1">&#39;stage&#39;</span><span class="p">],</span>
             <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;OLS Fit&#39;</span><span class="p">)</span>

<span class="c1">#### DAILY FLOW SERIES PLOT (right side)</span>
<span class="c1"># we can use the y_range attribute to link the plot scales</span>
<span class="n">daily_flow_plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">plot_width</span><span class="o">=</span><span class="mi">550</span><span class="p">,</span> <span class="n">plot_height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> 
                        <span class="n">x_axis_type</span><span class="o">=</span><span class="s1">&#39;datetime&#39;</span><span class="p">,</span> 
                        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Daily Flow Hydrograph&#39;</span><span class="p">,</span>
                        <span class="n">y_range</span><span class="o">=</span><span class="n">rc_plot</span><span class="o">.</span><span class="n">x_range</span><span class="p">)</span>

<span class="c1"># # plot the flow series based on the OLS best fit</span>
<span class="n">daily_flow_plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;RC Q (cms)&#39;</span><span class="p">,</span> 
                    <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;OLS-based RC Flow&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="n">ts_source</span><span class="p">)</span>

<span class="c1"># plot the flow series based on the manual fit</span>
<span class="n">daily_flow_plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Manual Q (cms)&#39;</span><span class="p">,</span> 
                    <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;Manual RC Flow&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="n">ts_source</span><span class="p">)</span>

<span class="c1"># plot the daily flow series generated from the manual rating curve</span>
<span class="n">daily_flow_plot</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Flow (m3/s)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
              <span class="n">source</span><span class="o">=</span><span class="n">rc_source</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;Measured Q&#39;</span><span class="p">)</span>

<span class="c1"># daily_flow_plot.line(&#39;Date&#39;, &#39;RC Q (cms)&#39;)</span>
<span class="c1"># label the axes</span>
<span class="n">daily_flow_plot</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">axis_label</span> <span class="o">=</span> <span class="s1">&#39;Date&#39;</span>
<span class="n">daily_flow_plot</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">axis_label</span> <span class="o">=</span> <span class="s1">&#39;Flow (m³/s)&#39;</span>
<span class="n">daily_flow_plot</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="s2">&quot;top_left&quot;</span>
<span class="n">rc_plot</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">axis_label</span> <span class="o">=</span> <span class="s1">&#39;Flow (m³/s)&#39;</span>
<span class="n">rc_plot</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">axis_label</span> <span class="o">=</span> <span class="s1">&#39;Stage (m)&#39;</span>
<span class="n">rc_plot</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="s2">&quot;bottom_right&quot;</span>

<span class="n">layout</span> <span class="o">=</span> <span class="n">gridplot</span><span class="p">([[</span><span class="n">rc_plot</span><span class="p">,</span> <span class="n">daily_flow_plot</span><span class="p">]])</span>

<span class="c1"># show the results</span>
<span class="n">show</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div class="bk-root" id="6232c752-49ad-4348-8e4b-b0a4128c7c79" data-root-id="1266"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"fb956f9f-68c8-47f6-9ba2-6996a0f056fe":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"1265"},{"id":"1263"}]},"id":"1266","type":"Column"},{"attributes":{"line_color":"dodgerblue","x":{"field":"Date"},"y":{"field":"Manual Q (cms)"}},"id":"1163","type":"Line"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1030","type":"BoxAnnotation"},{"attributes":{"days":[1,15]},"id":"1154","type":"DaysTicker"},{"attributes":{"line_alpha":0.2,"line_color":"green","x":{"field":"x"},"y":{"field":"y"}},"id":"1081","type":"Line"},{"attributes":{"source":{"id":"1058"}},"id":"1063","type":"CDSView"},{"attributes":{},"id":"1026","type":"ResetTool"},{"attributes":{"coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"syncable":false,"xs_units":"screen","ys_units":"screen"},"id":"1031","type":"PolyAnnotation"},{"attributes":{"overlay":{"id":"1030"}},"id":"1029","type":"BoxSelectTool"},{"attributes":{"source":{"id":"1003"}},"id":"1044","type":"CDSView"},{"attributes":{},"id":"1025","type":"WheelZoomTool"},{"attributes":{},"id":"1048","type":"AllLabels"},{"attributes":{"coordinates":null,"group":null,"items":[{"id":"1057"},{"id":"1077"},{"id":"1099"}],"location":"bottom_right"},"id":"1056","type":"Legend"},{"attributes":{},"id":"1053","type":"Selection"},{"attributes":{},"id":"1073","type":"UnionRenderers"},{"attributes":{},"id":"1047","type":"BasicTickFormatter"},{"attributes":{"line_color":"dodgerblue","x":{"field":"x"},"y":{"field":"y"}},"id":"1059","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"dodgerblue","x":{"field":"x"},"y":{"field":"y"}},"id":"1060","type":"Line"},{"attributes":{"overlay":{"id":"1031"}},"id":"1028","type":"PolySelectTool"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1148","type":"AdaptiveTicker"},{"attributes":{"callback":null},"id":"1027","type":"HoverTool"},{"attributes":{"data":{"x":{"__ndarray__":"DGO/xxFSbD9VKEsBY0myP2Xx+o/XysI/nggfUQPizD89TUDeN6PTP3IldDEW89g/YjZ8IyZb3j/qUoZy2uvhP6qdDkcKs+Q/uu7/ER6C5z+1RczpSFjqP/Ni1DHlNO0/7xivE7UL8D+CpZltsn/xP4m1WaU59vI/5kVhbCBv9D+oJnLZQer1P+Kw4mx9Z/c/+z3sTrbm+D87RSO40mf6P6QQLXm76vs/JHIDmltv/T9s8kELoPX+P6gaurK7PgBAYoiz2WgDAUA8c50i0MgBQAVEP8XqjgJAUx//eLJVA0BslR5nIR0EQGut4x4y5QRAZt1ai9+tBUC19G7qJHcGQJ/FIMX9QAdAEWCy6GULCEBemqFgWdYIQLnzU3HUoQlAoOtak9NtCkC3ADxvUzoLQBXcqtlQBwxAIOcm0MjUDEALxu91uKINQLgLRhEdcQ5AHwXvCPQ/D0DD4flwnQcQQKxQyp53bxBA3rK1a4fXEEA4eNvByz8RQFP/5ZZDqBFAPJRT6+0QEkBnWM7JyXkSQDaVkUbW4hJA1CfbfhJME0Dr22eYfbUTQCWt+cAWHxRAWQTnLd2IFEBYH7Ib0PIUQMHop83uXBVAsJiFjTjHFUDciCSrrDEWQI21K3xKnBZAm3LGWxEHF0BW51+qAHIXQAXvYs0X3RdAuQT+LlZIGED36eo9u7MYQMa+OW1GHxlAoUgfNPeKGUCrK8YNzfYZQNbeInnHYhpAfSjK+OXOGkBk9ckSKDsbQK5fhFCNpxtAU7+MPhUUHEAqoIZsv4AcQD59Bm2L7RxA/SJ01XhaHUDjnO49h8cdQNmUMUG2NB5AxAx8fAWiHkCOXHiPdA8fQGZgJRwDfR9AiMTAxrDqH0CpLtmaPiwgQMU9vAg0YyBA6JZKgjiaIEDOML7dS9EgQFdrQfJtCCFAaOzml54/IUCO2qGn3XYhQPhvPvsqriFA6+BabYblIUBckWDZ7xwiQAeVfRtnVCJAcHaeEOyLIkDKQGiWfsMiQFTJMose+yJABTUDzssyI0BCt4Y+hmojQNqGDb1NoiNAgAaGKiLaI0A=","dtype":"float64","order":"little","shape":[100]},"y":{"__ndarray__":"/Knx0k1iUD9m7mT3X4eQPxZhzYhNBKA/+UroFevEpz/cNAOjiIWvP2APDxgTo7M/UYSc3mGDtz9C+SmlsGO7PzRut2v/Q78/k3EiGSeSwT8MLGl8ToLDP4Tmr991csU//aD2Qp1ixz92Wz2mxFLJP+4VhAnsQss/Z9DKbBMzzT/gihHQOiPPP6wirBmxidA/6X9Py8SB0T8l3fJ82HnSP2I6li7scdM/npc54P9p1D/a9NyRE2LVPxdSgEMnWtY/U68j9TpS1z+PDMemTkrYP8xpalhiQtk/CMcNCnY62j9EJLG7iTLbP4GBVG2dKtw/vd73HrEi3T/6O5vQxBrePzaZPoLYEt8/OfvwGXYF4D/XqcLyf4HgP3ZYlMuJ/eA/FAdmpJN54T+ytTd9nfXhP1BkCVanceI/7hLbLrHt4j+NwawHu2njPytwfuDE5eM/yR5Quc5h5D9nzSGS2N3kPwV882riWeU/oyrFQ+zV5T9C2ZYc9lHmP+CHaPX/zeY/fjY6zglK5z8c5QunE8bnP7qT3X8dQug/WUKvWCe+6D/38IAxMTrpP5WfUgo7tuk/M04k40Qy6j/R/PW7Tq7qP2+rx5RYKus/DlqZbWKm6z+sCGtGbCLsP0q3PB92nuw/6GUO+H8a7T+GFODQiZbtPyXDsamTEu4/w3GDgp2O7j9hIFVbpwrvP//OJjSxhu8/zj58hl0B8D8dFuVyYj/wP2ztTV9nffA/u8S2S2y78D8LnB84cfnwP1pziCR2N/E/qUrxEHt18T/4IVr9f7PxP0f5wumE8fE/ltAr1okv8j/lp5TCjm3yPzR//a6Tq/I/g1Zmm5jp8j/SLc+HnSfzPyIFOHSiZfM/cdygYKej8z/AswlNrOHzPw+LcjmxH/Q/XmLbJbZd9D+tOUQSu5v0P/wQrf6/2fQ/S+gV68QX9T+av37XyVX1P+mW58POk/U/OG5QsNPR9T+IRbmc2A/2P9ccIondTfY/JvSKdeKL9j91y/Nh58n2P8SiXE7sB/c/E3rFOvFF9z9iUS4n9oP3P7EolxP7wfc/AAAAAAAA+D8=","dtype":"float64","order":"little","shape":[100]}},"selected":{"id":"1096"},"selection_policy":{"id":"1095"}},"id":"1078","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_color":"dodgerblue","x":{"field":"x"},"y":{"field":"y"}},"id":"1061","type":"Line"},{"attributes":{"label":{"value":"OLS Fit"},"renderers":[{"id":"1082"}]},"id":"1099","type":"LegendItem"},{"attributes":{},"id":"1145","type":"UnionRenderers"},{"attributes":{},"id":"1052","type":"UnionRenderers"},{"attributes":{},"id":"1159","type":"YearsTicker"},{"attributes":{},"id":"1144","type":"AllLabels"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1155","type":"MonthsTicker"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1152","type":"DaysTicker"},{"attributes":{"line_alpha":0.1,"line_color":"green","x":{"field":"x"},"y":{"field":"y"}},"id":"1080","type":"Line"},{"attributes":{"days":[1,8,15,22]},"id":"1153","type":"DaysTicker"},{"attributes":{},"id":"1146","type":"Selection"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1149","type":"AdaptiveTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1156","type":"MonthsTicker"},{"attributes":{},"id":"1050","type":"BasicTickFormatter"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1150","type":"AdaptiveTicker"},{"attributes":{"months":[0,6]},"id":"1158","type":"MonthsTicker"},{"attributes":{"label":{"value":"Measured Q"},"renderers":[{"id":"1043"}]},"id":"1057","type":"LegendItem"},{"attributes":{},"id":"1074","type":"Selection"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1151","type":"DaysTicker"},{"attributes":{},"id":"1143","type":"DatetimeTickFormatter"},{"attributes":{"coordinates":null,"data_source":{"id":"1078"},"glyph":{"id":"1079"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1081"},"nonselection_glyph":{"id":"1080"},"view":{"id":"1083"}},"id":"1082","type":"GlyphRenderer"},{"attributes":{"months":[0,4,8]},"id":"1157","type":"MonthsTicker"},{"attributes":{"label":{"value":"Manual Fit"},"renderers":[{"id":"1062"}]},"id":"1077","type":"LegendItem"},{"attributes":{"coordinates":null,"data_source":{"id":"1004"},"glyph":{"id":"1133"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1135"},"nonselection_glyph":{"id":"1134"},"view":{"id":"1137"}},"id":"1136","type":"GlyphRenderer"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1124","type":"BoxAnnotation"},{"attributes":{"below":[{"id":"1110"}],"center":[{"id":"1113"},{"id":"1117"},{"id":"1160"}],"height":400,"left":[{"id":"1114"}],"renderers":[{"id":"1136"},{"id":"1166"},{"id":"1195"}],"title":{"id":"1101"},"toolbar":{"id":"1125"},"toolbar_location":null,"width":550,"x_range":{"id":"1103"},"x_scale":{"id":"1106"},"y_range":{"id":"1008"},"y_scale":{"id":"1108"}},"id":"1100","subtype":"Figure","type":"Plot"},{"attributes":{"source":{"id":"1078"}},"id":"1083","type":"CDSView"},{"attributes":{},"id":"1051","type":"AllLabels"},{"attributes":{},"id":"1103","type":"DataRange1d"},{"attributes":{"line_color":"green","x":{"field":"x"},"y":{"field":"y"}},"id":"1079","type":"Line"},{"attributes":{},"id":"1140","type":"BasicTickFormatter"},{"attributes":{"tools":[{"id":"1024"},{"id":"1025"},{"id":"1026"},{"id":"1027"},{"id":"1028"},{"id":"1029"}]},"id":"1032","type":"Toolbar"},{"attributes":{},"id":"1014","type":"LinearScale"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"red"},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"Date"},"y":{"field":"Flow (m3/s)"}},"id":"1194","type":"Circle"},{"attributes":{"coordinates":null,"data_source":{"id":"1058"},"glyph":{"id":"1059"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1061"},"nonselection_glyph":{"id":"1060"},"view":{"id":"1063"}},"id":"1062","type":"GlyphRenderer"},{"attributes":{"label":{"value":"Measured Q"},"renderers":[{"id":"1195"}]},"id":"1221","type":"LegendItem"},{"attributes":{"toolbar":{"id":"1264"},"toolbar_location":"above"},"id":"1265","type":"ToolbarBox"},{"attributes":{"coordinates":null,"data_source":{"id":"1003"},"glyph":{"id":"1192"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1194"},"nonselection_glyph":{"id":"1193"},"view":{"id":"1196"}},"id":"1195","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"1004"},"glyph":{"id":"1163"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1165"},"nonselection_glyph":{"id":"1164"},"view":{"id":"1167"}},"id":"1166","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"green","x":{"field":"Date"},"y":{"field":"RC Q (cms)"}},"id":"1134","type":"Line"},{"attributes":{"source":{"id":"1004"}},"id":"1137","type":"CDSView"},{"attributes":{"data":{"Date":{"__ndarray__":"AACAOkrpcUIAAEA35upxQgAAQNUSAnJCAABAybg6ckIAAIA8tk1yQgAAgGpJUHJCAAAAf9d4ckIAAMDkKXlyQgAAgLRoqnJCAACAbLW0ckI=","dtype":"float64","order":"little","shape":[10]},"Flow (m3/s)":{"__ndarray__":"CtejcD0K+T97FK5H4Xr4P4ts5/up8e4/1XjpJjGIFECe76fGSzcLQEw3iUFg5RFAjZduEoPA9D9eukkMAiv9P+58PzVeuhJAAAAAAAAAKEA=","dtype":"float64","order":"little","shape":[10]},"Water level (m)":{"__ndarray__":"aJHtfD81zj9KDAIrhxbRP3npJjEIrMw/ObTIdr6f5j/ByqFFtvPdPwwCK4cW2eI/i2zn+6nx0j8zMzMzMzPTP9NNYhBYOeQ/FK5H4XoUBkA=","dtype":"float64","order":"little","shape":[10]},"index":[0,1,2,3,4,5,6,7,8,9]},"selected":{"id":"1053"},"selection_policy":{"id":"1052"}},"id":"1003","type":"ColumnDataSource"},{"attributes":{},"id":"1095","type":"UnionRenderers"},{"attributes":{},"id":"1106","type":"LinearScale"},{"attributes":{"source":{"id":"1003"}},"id":"1196","type":"CDSView"},{"attributes":{"children":[[{"id":"1005"},0,0],[{"id":"1100"},0,1]]},"id":"1263","type":"GridBox"},{"attributes":{"coordinates":null,"group":null,"text":"Daily Flow Hydrograph"},"id":"1101","type":"Title"},{"attributes":{},"id":"1119","type":"WheelZoomTool"},{"attributes":{},"id":"1141","type":"AllLabels"},{"attributes":{},"id":"1017","type":"BasicTicker"},{"attributes":{"data":{"x":[0.12908282451100986,0.1659842133248819,0.20694943773913288,0.2518798124855584,0.3006895095261458,0.3533027815596579,0.4096519811729917,0.46967610054603626,0.5333196655658702,0.6005318792937172,0.6712659457789726,0.7454785274161557,0.8231293032154441,0.9041806046920848,0.9885971123947462,1.0763456004666323,1.1673947197264198,1.261714811984723,1.359277749944484,1.4600567982479256,1.5640264921481368,1.6711625309821068,1.7814416841615515,1.894841707818755,2.011341270576193,2.130919887172223,2.2535578588862513,2.3792362198773276,2.5079366886887855,2.6396416242851073,2.774333986080753,2.911997297498252,3.0526156126574606,3.1961734858520665,3.3426559435149863,3.4920484584128753,3.6443369258427216,3.7995076416314695,3.957547281763519,4.118442883481587,4.282181827724137,4.448751822777981,4.618140889038054,4.790337344777923,4.965329792844871,5.143107108202255,5.323658426249687,5.506973131858523,5.693040849066239,5.8818514313786725,6.073394952633916,6.267661698385944,6.46464215776981,6.664327015813735,6.866707146166361,7.071773604210265,7.279517620535229,7.489930594746993,7.7030040895892276,7.918729825358233,8.137099674591546,8.358105657013052,8.58173993471864,8.807994807587532,9.036862708905668,9.268336201188404,9.502407972190827,9.739070831094748,9.978317704862262,10.220141634746438,10.464535772950395,10.711493379426539,10.96100781880842,11.213072557468019,11.46768116069184,11.724827289969618,11.98450470038979,12.246707238136278,12.51142883808149,12.778663521470744,13.048405393693578,13.320648642137755,13.595387534121981,13.872616414903545,14.152329705757406,14.434521902123377,14.719187571818281,15.006321353310122,15.295917954051452,15.587972148869351,15.882478778409467,16.17943274763179,16.4788290243559,16.78066263785364,17.084928677487106,17.391622291390114,17.700738685191382,18.01227312077761,18.326220915094915,18.642577438987065],"y":{"__ndarray__":"/Knx0k1iUD9m7mT3X4eQPxZhzYhNBKA/+UroFevEpz/cNAOjiIWvP2APDxgTo7M/UYSc3mGDtz9C+SmlsGO7PzRut2v/Q78/k3EiGSeSwT8MLGl8ToLDP4Tmr991csU//aD2Qp1ixz92Wz2mxFLJP+4VhAnsQss/Z9DKbBMzzT/gihHQOiPPP6wirBmxidA/6X9Py8SB0T8l3fJ82HnSP2I6li7scdM/npc54P9p1D/a9NyRE2LVPxdSgEMnWtY/U68j9TpS1z+PDMemTkrYP8xpalhiQtk/CMcNCnY62j9EJLG7iTLbP4GBVG2dKtw/vd73HrEi3T/6O5vQxBrePzaZPoLYEt8/OfvwGXYF4D/XqcLyf4HgP3ZYlMuJ/eA/FAdmpJN54T+ytTd9nfXhP1BkCVanceI/7hLbLrHt4j+NwawHu2njPytwfuDE5eM/yR5Quc5h5D9nzSGS2N3kPwV882riWeU/oyrFQ+zV5T9C2ZYc9lHmP+CHaPX/zeY/fjY6zglK5z8c5QunE8bnP7qT3X8dQug/WUKvWCe+6D/38IAxMTrpP5WfUgo7tuk/M04k40Qy6j/R/PW7Tq7qP2+rx5RYKus/DlqZbWKm6z+sCGtGbCLsP0q3PB92nuw/6GUO+H8a7T+GFODQiZbtPyXDsamTEu4/w3GDgp2O7j9hIFVbpwrvP//OJjSxhu8/zj58hl0B8D8dFuVyYj/wP2ztTV9nffA/u8S2S2y78D8LnB84cfnwP1pziCR2N/E/qUrxEHt18T/4IVr9f7PxP0f5wumE8fE/ltAr1okv8j/lp5TCjm3yPzR//a6Tq/I/g1Zmm5jp8j/SLc+HnSfzPyIFOHSiZfM/cdygYKej8z/AswlNrOHzPw+LcjmxH/Q/XmLbJbZd9D+tOUQSu5v0P/wQrf6/2fQ/S+gV68QX9T+av37XyVX1P+mW58POk/U/OG5QsNPR9T+IRbmc2A/2P9ccIondTfY/JvSKdeKL9j91y/Nh58n2P8SiXE7sB/c/E3rFOvFF9z9iUS4n9oP3P7EolxP7wfc/AAAAAAAA+D8=","dtype":"float64","order":"little","shape":[100]}},"selected":{"id":"1074"},"selection_policy":{"id":"1073"}},"id":"1058","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_color":"green","x":{"field":"Date"},"y":{"field":"RC Q (cms)"}},"id":"1135","type":"Line"},{"attributes":{},"id":"1122","type":"ResetTool"},{"attributes":{"data":{"Date":{"__ndarray__":"AACAtGiqckIAAEAau6pyQgAAAIANq3JCAADA5V+rckIAAIBLsqtyQgAAQLEErHJCAAAAF1esckIAAMB8qaxyQgAAgOL7rHJCAABASE6tckIAAACuoK1yQgAAwBPzrXJCAACAeUWuckIAAEDfl65yQgAAAEXqrnJCAADAqjyvckIAAIAQj69yQgAAQHbhr3JCAAAA3DOwckIAAMBBhrByQgAAgKfYsHJCAABADSuxckIAAABzfbFyQgAAwNjPsXJCAACAPiKyckIAAECkdLJyQgAAAArHsnJCAADAbxmzckIAAIDVa7NyQgAAQDu+s3JCAAAAoRC0ckIAAMAGY7RyQgAAgGy1tHJCAABA0ge1ckIAAAA4WrVyQgAAwJ2stXJCAACAA/+1ckIAAEBpUbZyQgAAAM+jtnJCAADANPa2ckIAAICaSLdyQgAAQACbt3JCAAAAZu23ckIAAMDLP7hyQgAAgDGSuHJCAABAl+S4ckIAAAD9NrlyQgAAwGKJuXJCAACAyNu5ckIAAEAuLrpyQgAAAJSAunJCAADA+dK6ckIAAIBfJbtyQgAAQMV3u3JCAAAAK8q7ckIAAMCQHLxyQgAAgPZuvHJCAABAXMG8ckIAAADCE71yQgAAwCdmvXJCAACAjbi9ckIAAEDzCr5yQgAAAFldvnJCAADAvq++ckIAAIAkAr9yQgAAQIpUv3JCAAAA8Ka/ckIAAMBV+b9yQgAAgLtLwHJCAABAIZ7AckIAAACH8MByQgAAwOxCwXJCAACAUpXBckIAAEC458FyQgAAAB46wnJCAADAg4zCckIAAIDp3sJyQgAAQE8xw3JCAAAAtYPDckIAAMAa1sNyQgAAgIAoxHJCAABA5nrEckIAAABMzcRyQgAAwLEfxXJCAACAF3LFckIAAEB9xMVyQgAAAOMWxnJCAADASGnGckIAAICuu8ZyQgAAQBQOx3JCAAAAemDHckIAAMDfssdyQgAAgEUFyHJCAABAq1fIckIAAAARqshyQgAAwHb8yHJCAACA3E7JckIAAEBCoclyQgAAAKjzyXJCAADADUbKckIAAIBzmMpyQgAAQNnqynJCAAAAPz3LckIAAMCkj8tyQgAAgAriy3JCAABAcDTMckIAAADWhsxyQgAAwDvZzHJCAACAoSvNckIAAEAHfs1yQgAAAG3QzXJCAADA0iLOckIAAIA4dc5yQgAAQJ7HznJCAAAABBrPckIAAMBpbM9yQgAAgM++z3JCAABANRHQckIAAACbY9ByQgAAwAC20HJCAACAZgjRckIAAEDMWtFyQgAAADKt0XJCAADAl//RckIAAID9UdJyQgAAQGOk0nJCAAAAyfbSckIAAMAuSdNyQgAAgJSb03JCAABA+u3TckIAAABgQNRyQgAAwMWS1HJCAACAK+XUckIAAECRN9VyQgAAAPeJ1XJCAADAXNzVckIAAIDCLtZyQgAAQCiB1nJCAAAAjtPWckIAAMDzJddyQgAAgFl413JCAABAv8rXckIAAAAlHdhyQgAAwIpv2HJCAACA8MHYckIAAEBWFNlyQgAAALxm2XJCAADAIbnZckIAAICHC9pyQgAAQO1d2nJCAAAAU7DackIAAMC4AttyQgAAgB5V23JCAABAhKfbckIAAADq+dtyQgAAwE9M3HJCAACAtZ7cckIAAEAb8dxyQgAAAIFD3XJCAADA5pXdckIAAIBM6N1yQgAAQLI63nJCAAAAGI3eckIAAMB9395yQgAAgOMx33JCAABASYTfckIAAACv1t9yQgAAwBQp4HJCAACAenvgckIAAEDgzeByQgAAAEYg4XJCAADAq3LhckIAAIARxeFyQgAAQHcX4nJCAAAA3WnickIAAMBCvOJyQgAAgKgO43JCAABADmHjckIAAAB0s+NyQgAAwNkF5HJCAACAP1jkckIAAEClquRyQgAAAAv95HJCAADAcE/lckIAAIDWoeVyQgAAQDz05XJCAAAAokbmckIAAMAHmeZyQgAAgG3r5nJCAABA0z3nckIAAAA5kOdyQgAAwJ7i53JCAACABDXockIAAEBqh+hyQgAAANDZ6HJCAADANSzpckIAAICbfulyQgAAQAHR6XJCAAAAZyPqckIAAMDMdepyQgAAgDLI6nJCAABAmBrrckIAAAD+bOtyQgAAwGO/63JCAACAyRHsckIAAEAvZOxyQgAAAJW27HJCAADA+gjtckIAAIBgW+1yQgAAQMat7XJCAAAALADuckIAAMCRUu5yQgAAgPek7nJCAABAXffuckIAAADDSe9yQgAAwCic73JCAACAju7vckIAAED0QPByQgAAAFqT8HJCAADAv+XwckIAAIAlOPFyQgAAQIuK8XJCAAAA8dzxckIAAMBWL/JyQgAAgLyB8nJC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","dtype":"float64","order":"little","shape":[677]},"Manual Q (cms)":{"__ndarray__":"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","dtype":"float64","order":"little","shape":[677]},"RC Q (cms)":{"__ndarray__":"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","dtype":"float64","order":"little","shape":[677]},"Value":{"__ndarray__":"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","dtype":"float64","order":"little","shape":[677]},"index":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676]},"selected":{"id":"1146"},"selection_policy":{"id":"1145"}},"id":"1004","type":"ColumnDataSource"},{"attributes":{},"id":"1121","type":"SaveTool"},{"attributes":{"coordinates":null,"group":null,"items":[{"id":"1161"},{"id":"1190"},{"id":"1221"}],"location":"top_left"},"id":"1160","type":"Legend"},{"attributes":{"overlay":{"id":"1124"}},"id":"1120","type":"BoxZoomTool"},{"attributes":{"fill_alpha":{"value":0.8},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.8},"hatch_color":{"value":"red"},"line_alpha":{"value":0.8},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"Date"},"y":{"field":"Flow (m3/s)"}},"id":"1192","type":"Circle"},{"attributes":{},"id":"1108","type":"LinearScale"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"red"},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"Flow (m3/s)"},"y":{"field":"Water level (m)"}},"id":"1042","type":"Circle"},{"attributes":{"line_alpha":0.1,"line_color":"dodgerblue","x":{"field":"Date"},"y":{"field":"Manual Q (cms)"}},"id":"1164","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"red"},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"Flow (m3/s)"},"y":{"field":"Water level (m)"}},"id":"1041","type":"Circle"},{"attributes":{"axis":{"id":"1110"},"coordinates":null,"group":null,"ticker":null},"id":"1113","type":"Grid"},{"attributes":{"axis_label":"Date","coordinates":null,"formatter":{"id":"1143"},"group":null,"major_label_policy":{"id":"1144"},"ticker":{"id":"1111"}},"id":"1110","type":"DatetimeAxis"},{"attributes":{"label":{"value":"Manual RC Flow"},"renderers":[{"id":"1166"}]},"id":"1190","type":"LegendItem"},{"attributes":{},"id":"1123","type":"HelpTool"},{"attributes":{"coordinates":null,"data_source":{"id":"1003"},"glyph":{"id":"1040"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"1042"},"nonselection_glyph":{"id":"1041"},"view":{"id":"1044"}},"id":"1043","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"red"},"line_alpha":{"value":0.5},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"Flow (m3/s)"},"y":{"field":"Water level (m)"}},"id":"1040","type":"Circle"},{"attributes":{"line_color":"green","x":{"field":"Date"},"y":{"field":"RC Q (cms)"}},"id":"1133","type":"Line"},{"attributes":{"axis":{"id":"1016"},"coordinates":null,"group":null,"ticker":null},"id":"1019","type":"Grid"},{"attributes":{"axis":{"id":"1020"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"1023","type":"Grid"},{"attributes":{"axis_label":"Stage (m)","coordinates":null,"formatter":{"id":"1047"},"group":null,"major_label_policy":{"id":"1048"},"ticker":{"id":"1021"}},"id":"1020","type":"LinearAxis"},{"attributes":{},"id":"1115","type":"BasicTicker"},{"attributes":{"label":{"value":"OLS-based RC Flow"},"renderers":[{"id":"1136"}]},"id":"1161","type":"LegendItem"},{"attributes":{"tools":[{"id":"1118"},{"id":"1119"},{"id":"1120"},{"id":"1121"},{"id":"1122"},{"id":"1123"}]},"id":"1125","type":"Toolbar"},{"attributes":{},"id":"1012","type":"LinearScale"},{"attributes":{},"id":"1010","type":"DataRange1d"},{"attributes":{},"id":"1024","type":"PanTool"},{"attributes":{"axis":{"id":"1114"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"1117","type":"Grid"},{"attributes":{"below":[{"id":"1016"}],"center":[{"id":"1019"},{"id":"1023"},{"id":"1056"}],"height":400,"left":[{"id":"1020"}],"renderers":[{"id":"1043"},{"id":"1062"},{"id":"1082"}],"title":{"id":"1006"},"toolbar":{"id":"1032"},"toolbar_location":null,"width":550,"x_range":{"id":"1008"},"x_scale":{"id":"1012"},"y_range":{"id":"1010"},"y_scale":{"id":"1014"}},"id":"1005","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1118","type":"PanTool"},{"attributes":{"line_alpha":0.2,"line_color":"dodgerblue","x":{"field":"Date"},"y":{"field":"Manual Q (cms)"}},"id":"1165","type":"Line"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1148"},{"id":"1149"},{"id":"1150"},{"id":"1151"},{"id":"1152"},{"id":"1153"},{"id":"1154"},{"id":"1155"},{"id":"1156"},{"id":"1157"},{"id":"1158"},{"id":"1159"}]},"id":"1111","type":"DatetimeTicker"},{"attributes":{"coordinates":null,"group":null,"text":"Rating Curve Plot"},"id":"1006","type":"Title"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"red"},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"Date"},"y":{"field":"Flow (m3/s)"}},"id":"1193","type":"Circle"},{"attributes":{},"id":"1096","type":"Selection"},{"attributes":{"axis_label":"Flow (m\u00b3/s)","coordinates":null,"formatter":{"id":"1050"},"group":null,"major_label_policy":{"id":"1051"},"ticker":{"id":"1017"}},"id":"1016","type":"LinearAxis"},{"attributes":{"axis_label":"Flow (m\u00b3/s)","coordinates":null,"formatter":{"id":"1140"},"group":null,"major_label_policy":{"id":"1141"},"ticker":{"id":"1115"}},"id":"1114","type":"LinearAxis"},{"attributes":{"source":{"id":"1004"}},"id":"1167","type":"CDSView"},{"attributes":{},"id":"1021","type":"BasicTicker"},{"attributes":{},"id":"1008","type":"DataRange1d"},{"attributes":{"toolbars":[{"id":"1032"},{"id":"1125"}],"tools":[{"id":"1024"},{"id":"1025"},{"id":"1026"},{"id":"1027"},{"id":"1028"},{"id":"1029"},{"id":"1118"},{"id":"1119"},{"id":"1120"},{"id":"1121"},{"id":"1122"},{"id":"1123"}]},"id":"1264","type":"ProxyToolbar"}],"root_ids":["1266"]},"title":"Bokeh Application","version":"2.4.3"}};
  const render_items = [{"docid":"fb956f9f-68c8-47f6-9ba2-6996a0f056fe","root_ids":["1266"],"roots":{"1266":"6232c752-49ad-4348-8e4b-b0a4128c7c79"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/Notebook_2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pressure-transducer">Pressure Transducer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hydrometric-station">Hydrometric Station</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-discharge-rating-curve-development">Stage-Discharge (Rating Curve) Development</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-data">Import the Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-data">Plot the Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-measured-discharge-and-corresponding-stage-water-level">Plot Measured Discharge and corresponding stage (water level)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#add-the-new-discharge-measurement">Add the new discharge measurement</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#find-the-stage-on-the-measurement-date">Find the stage on the measurement date</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#add-the-latest-data-to-the-discharge-table">Add the latest data to the discharge table.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-a-curve-representing-the-standard-stage-discharge-relationship">Plot a Curve Representing the Standard Stage-Discharge Relationship</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#curve-fitting-method">Curve Fitting Method</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solve-for-q">Solve for Q</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-best-fit-curve">Plot the best fit curve</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-daily-average-hydrograph-from-the-rating-curve">Plot the Daily Average Hydrograph From the Rating Curve</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-resulting-flow-series-and-the-rating-curve">Plot the Resulting Flow series and the rating curve</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulative-frequency-the-flow-duration-curve">Cumulative Frequency: The Flow Duration Curve</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-and-reflection">Summary and Reflection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#questions-for-reflection">Questions for Reflection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-information">Additional Information</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dan Kovacek and Steven Weijs
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>